<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cistercian Code Generator</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            margin: 2em;
        }
        canvas,svg {
            background: #eee;
        }
        form {
            margin-bottom: 1em;
            font-size: 2em;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: .5em;
        }
        input,button[type=submit] {
            font-size: inherit;
            font-family: inherit;
            text-align: center;
        }
        input[type=radio] {
            font-size: 1.3em;
        }
        label {
           font-size: inherit;
        }
        button[type=submit] {
            background-color: rgb(51, 131, 29);
            color: white;
            border: none;
            font-size: .8em;
            padding: .2em .5em;
            cursor: pointer;
        }
        input + label{
            background-color: #eee;
            color: #333;
            padding: .2em .5em;
            margin: 0 .5em;
            display: inline-block
        }
        input[type=radio]{
            display: none;
        }
        input:checked + label{
            background-color: #369;
            color: white;
            padding: .2em .5em;
            margin-right: 1em;
            display: inline-block
        }
        output {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: row;
            gap: 1em;
            flex-wrap: wrap;
            padding: 1em;
            
        }
        output div {
            position: relative;
            width: fit-content;
            font-size: 1.8em;
            text-align: center;
        }
        output summary {
            cursor: pointer;
            font-size: .7em;
        }
        textarea {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 0.5em;
            font-size: 1em;
            resize: vertical;
        }
        output div button {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 0.35em;
            border: none;
            background: none;
        }
        .format {
            display: flex;
            font-size: .7em;
            justify-content: center;
            padding: .2em .5em;
            align-items: center;
        }
        
    </style>
</head>
<body>
    <h1>Cistercian Number Generator</h1>
    <form action="#">
       <div>
        <label for="numberinput">Enter a number (1-9999):</label>
        <input type="number" id="numberinput" value="1234" min="1" max="9999">
       </div>
       <div class="format">
              Choose output format:
           <input type="radio" name="renderer" checked id="canvas" value="canvas">
           <label for="canvas">Canvas / PNG</label>
           <input type="radio" name="renderer" id="svg" value="svg">
           <label for="svg">SVG</label>
       </div>
       <button type="submit">Generate</button>
    </form>
   <output></output>
   <script src="cistercian.js"></script> 
   <script>
    const converter = new Cistercian();
    // converter.configure({
    //     canvas: {
    //         width: 120
    //     },
    //     renderer: 'svg',
    //     addtext: true,
    //     addinteraction: true
    // });
    
    document.querySelector('form').addEventListener('change', e => {
        let number = document.getElementById('numberinput').value;
        converter.configure({
            renderer: document.querySelector('input[name="renderer"]:checked').value,
        });
        converter.rendernumber(number);
    });
    document.querySelector('form').addEventListener('submit', e => {
        e.preventDefault();
        converter.configure({
            renderer: document.querySelector('input[name="renderer"]:checked').value,
        });
        let number = document.getElementById('numberinput').value;
        converter.rendernumber(number);
    });
    document.querySelector('#numberinput').value = Math.floor(Math.random() * 9999) + 1;
    document.querySelector('form').dispatchEvent(new Event('change'));
   </script>
</body>
</html>